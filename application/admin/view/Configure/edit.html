{extend name="public/layout"}
{block name="css"}
<link href="__CSS__plugins/switchery/switchery.css" rel="stylesheet">
{/block}
{block name="content"}

    <form class="form-horizontal m-t" action="{:url('update',['id'=>$data.id])}" method="post" id="signupForm">
        <div class="form-group">
            <label class="col-sm-3 control-label">中文名：</label>
            <div class="col-sm-8">
                <input id="title" name="title" value="{$data.title}" class="form-control" type="text" aria-required="true" aria-invalid="true" class="error">
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-3 control-label">参数名：</label>
            <div class="col-sm-8">
                <input id="name" name="name" value="{$data.name}" class="form-control" type="text" aria-required="true" aria-invalid="false" class="valid">
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-3 control-label">配置信息：</label>
            <div class="col-sm-8">
                <input id="conf" name="conf" value="{$data.conf}" class="form-control" type="text" aria-required="true" aria-invalid="false" class="valid">
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-3 control-label">状态：</label>
            <div class="col-sm-8">
                <input type="checkbox" value="1" {eq name="$data->getData('status')" value="1"}checked{/eq} class="form-control js-switch" id="status" name="status" >
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-8 col-sm-offset-3">
                <button class="btn btn-primary" type="submit">提交</button>
            </div>
        </div>
    </form>
{/block}
{block name="js"}
<script src="__JS__plugins/validate/jquery.validate.min.js"></script>
<script src="__JS__plugins/validate/messages_zh.min.js"></script>
<script src="__JS__plugins/switchery/switchery.js"></script>
<script>
    // checkbox
    var elem = document.querySelector('.js-switch');
    new Switchery(elem,{ color: '#64bd63', secondaryColor: '#f00', jackColor: '#fff'});

    //
    $().ready(function () {
        var icon = "<i class='fa fa-times-circle'></i> ";
        $().ready(function () {
            var icon = "<i class='fa fa-times-circle'></i> ";
            var rules = {
                title: "required",
                name: "required"
            };
            var message = {
                title: icon + "请输入中文名",
                name: icon + "请输入参数名",
            };
            _validateForm('signupForm',rules, message);
        });

    });
</script>
{/block}