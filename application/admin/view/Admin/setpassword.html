{extend name="public/layout"}
{block name="css"}
<link href="__CSS__plugins/switchery/switchery.css" rel="stylesheet">
{/block}
{block name="content"}

    <form class="form-horizontal m-t" action="{:url('setPassword')}" method="post" id="signupForm">
        <input type="hidden" name="userid" value="{$id}">
        <div class="form-group">
            <label class="col-sm-3 control-label">密码：</label>
            <div class="col-sm-8">
                <input id="password" name="password" class="form-control" type="password">
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-3 control-label">确认密码：</label>
            <div class="col-sm-8">
                <input id="confirm_password" name="confirm_password" class="form-control" type="password">
                <span class="help-block m-b-none"><i class="fa fa-info-circle"></i> 请再次输入您的密码</span>
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-8 col-sm-offset-3">
                <button class="btn btn-primary" type="submit">提交</button>
            </div>
        </div>
    </form>
{/block}
{block name="js"}
<script src="__JS__plugins/validate/jquery.validate.min.js"></script>
<script src="__JS__plugins/validate/messages_zh.min.js"></script>
<script>

    $().ready(function () {
        var icon = "<i class='fa fa-times-circle'></i> ";
        $().ready(function () {
            var icon = "<i class='fa fa-times-circle'></i> ";
            var rules = {
                password: {
                    required: true,
                    minlength: 5
                },
                confirm_password: {
                    required: true,
                    minlength: 5,
                    equalTo: "#password"
                }
            };
            var message = {
                password: {
                    required: icon + "请输入密码",
                    minlength: icon + "密码必须5个字符以上"
                },
                confirm_password: {
                    required: icon + "请再次输入密码",
                    minlength: icon + "密码必须5个字符以上",
                    equalTo: icon + "两次输入的密码不一致"
                }
            };
            _validateForm('signupForm',rules, message);
        });

    });
</script>
{/block}